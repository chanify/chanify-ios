function withLineNumbers(a,b={}){const c=Object.assign({class:"codejar-linenumbers",wrapClass:"codejar-wrap",width:"35px",backgroundColor:"rgba(128, 128, 128, 0.15)",color:"#777"},b);let d;return function(b){a(b),d||(d=init(b,c),b.addEventListener("scroll",()=>d.style.top=`-${b.scrollTop}px`));const e=b.textContent||"",f=e.replace(/\n+$/,"\n").split("\n").length+1;let g="";for(let a=1;a<f;a++)g+=`${a}\n`;d.innerText=g}};function init(a,b){const c=getComputedStyle(a),d=document.createElement("div");d.className=b.wrapClass,d.style.position="relative";const e=document.createElement("div");e.className=b.class,d.appendChild(e),e.style.position="absolute",e.style.top="0px",e.style.left="0px",e.style.bottom="0px",e.style.width=b.width,e.style.overflow="hidden",e.style.backgroundColor=b.backgroundColor,e.style.color=b.color||c.color,e.style.setProperty("mix-blend-mode","difference"),e.style.fontFamily=c.fontFamily,e.style.fontSize=c.fontSize,e.style.lineHeight=c.lineHeight,e.style.paddingTop=c.paddingTop,e.style.paddingLeft=c.paddingLeft,e.style.borderTopLeftRadius=c.borderTopLeftRadius,e.style.borderBottomLeftRadius=c.borderBottomLeftRadius;const f=document.createElement("div");return f.style.position="relative",f.style.top="0px",e.appendChild(f),a.style.paddingLeft=`calc(${b.width} + ${e.style.paddingLeft})`,a.style.whiteSpace="pre",a.parentNode.insertBefore(d,a),d.appendChild(a),f}
